qpsol = [-0.95920507468297   
	1.0088039014239     
	-6.3475941377775    
	-11.069910475377    
	-19.259734213819    
	2.5097170284974     
	12.158146668759     
	3.2164629050096     
	57.065609293698     
	-168.46251180323    
	6.372698244384e-14  
	168.40717049555     
	4.2453246684502e-15 
	-99.091137319355    
	10.263449939108     
	-2.8066667317483    
	-12.846412774739    
	-16.656895953913    
	7.1825092707505e-15 
	16.651009681262     
	-2.807941345232e-15 
	-6.3729830981307    
	2.6278272292278     
	0.47150621352211    
	-15.982288148687    
	-51.756116068121    
	-1.1090560106167    
	-35.546573806123    
	-5.862055934356     
	10.803497874927     
	72.502243871068     
	0                   
	-17.305190437018    
	37.147899223986     
	212.36969481357     
	3.6516235842267     
	5.6046275049581     
	51.721813590856     
	-442.55142585208    
	-33.819609156438    
	-5.2929924121892    
	86.571192652377     
	47.067330806881     
	0                   ];
ddq = qpsol(1:22);
u = qpsol(23:32);
F = qpsol(33:43);

D = [34.676752            0                    0                    -8.8591506435576e-05 -4.1421121023298    -0.019884825082308   -4.7425327667221e-05 -0.19161059569959    1.406987845161      0.8159895744125      0.59900853160395    0.14333525991562     -0.0092425889882677  0.0036194958846629   -4.7441769270811e-05 0.19161948572842     1.4064409498276     0.81418322838749    0.5973791386842      0.14361137914758     -0.0092551851276819  0.0035768891503593   
	0                    34.676752            0                    4.1429343899468      8.8591506431205e-05 -0.72378964193602    2.2178200693587      -0.075275886265156   -0.0081326783716775 -0.0056657210765488  -0.0043282502519082 -0.00056984161860579 0.00075590276501439  -1.596347885538e-05  2.2185889521403      -0.07987086748747    0.0083217427850132  0.0089835971563279  0.0073347449226625   -0.00028666571130219 -0.00072206087002249 -1.3702874686472e-06 
	0                    0                    34.676752            0.01990025709798     0.72364476148263    4.3707165099701e-15  0.18698802580397     0.0001636307339506   -0.076327040621804  -0.48074972262417    -0.43068227485405   0.11117824517906     -0.0042663014009223  0.002083687442117    -0.17066122302429    -0.00076178603627341 -0.080809781621925  -0.48339271012094   -0.43257417318077    0.11084222457103     -0.004244662070142   0.0021560646455735   
	-8.8591506435576e-05 4.1429343899468      0.01990025709798     2.5394763587898      0.0012109605464762  -0.48512694545894    0.97418655563964     -0.13211376947212    -0.012555891474051  -0.065212619081169   -0.058088800446057  0.013635909927928    -0.00023253124620207 0.00025178731957925  0.97073892438694     -0.13385414429107    0.012923866931561   0.06538949625278    0.058197245863961    -0.013623404176753   0.000231387840698    -0.00026238807176842 
	-4.1421121023298     8.8591506431205e-05  0.72364476148263     0.0012109605464762   2.321615598021      0.0069786951003092   0.006950323849881    0.011998308819156    -0.85946866304849   -0.66291300833244    -0.54615977731082   -0.11507986431535    0.0017887480399907   -0.0035293830460018  -0.0051076113704837  -0.013191719161667   -0.85929255078337   -0.66259071803543   -0.54584943579741    -0.11502636128156    0.0017853293478308   -0.0034825776719054  
	-0.019884825082308   -0.72378964193602    4.3707165099701e-15  -0.48512694545894    0.0069786951003092  1.0737233020416      -0.24171055030535    0.18832299985224     -0.1814136692201    -0.10329127587836    -0.075475669898859  -0.018156875364052   0.00082054134607372  -0.000464272010495   -0.24354893645559    0.18933725358962     0.17503781218159    0.09818997985305    0.071254497618757    0.017346813479246    -0.00080824973540627 0.00043320876374978  
	-4.7425327667221e-05 2.2178200693587      0.18698802580397     0.97418655563964     0.006950323849881   -0.24171055030535    0.98706304583859     -0.13213586410717    -0.0022496484676391 -0.00029822666839433 6.5113907749601e-05 -0.001376201147088   0.00034353640450596  -2.9567609852278e-05 0                    0                    0                   0                   0                    0                    0                    0                    
	-0.19161059569959    -0.075275886265156   0.0001636307339506   -0.13211376947212    0.011998308819156   0.18832299985224     -0.13213586410717    0.19691212273744     0.0063103558772315  0.0052226499548427   0.0040537431527035  0.00090745707747311  -0.00038608255115028 1.5784420372004e-05  0                    0                    0                   0                   0                    0                    0                    0                    
	1.406987845161       -0.0081326783716775  -0.076327040621804   -0.012555891474051   -0.85946866304849   -0.1814136692201     -0.0022496484676391  0.0063103558772315   0.82252636704572    0.56590090232636     0.47113095480978    0.10763383901442     -0.0011682153531439  0.003305831170755    0                    0                    0                   0                   0                    0                    0                    0                    
	0.8159895744125      -0.0056657210765488  -0.48074972262417    -0.065212619081169   -0.66291300833244   -0.10329127587836    -0.00029822666839433 0.0052226499548427   0.56590090232636    0.61105788137255     0.44095512077128    0.085900652552418    3.6848990581236e-05  0.0028060552572657   0                    0                    0                   0                   0                    0                    0                    0                    
	0.59900853160395     -0.0043282502519082  -0.43068227485405    -0.058088800446057   -0.54615977731082   -0.075475669898859   6.5113907749601e-05  0.0040537431527035   0.47113095480978    0.44095512077128     0.38811890752818    0.077283786369228    0.00064736442679103  0.0025748603062924   0                    0                    0                   0                   0                    0                    0                    0                    
	0.14333525991562     -0.00056984161860579 0.11117824517906     0.013635909927928    -0.11507986431535   -0.018156875364052   -0.001376201147088   0.00090745707747311  0.10763383901442    0.085900652552418    0.077283786369228   0.0735477922876      0.0018506081448418   0.0022409751368621   0                    0                    0                   0                   0                    0                    0                    0                    
	-0.0092425889882677  0.00075590276501439  -0.0042663014009223  -0.00023253124620207 0.0017887480399907  0.00082054134607372  0.00034353640450596  -0.00038608255115028 -0.0011682153531439 3.6848990581236e-05  0.00064736442679103 0.0018506081448418   0.00185729584        0                    0                    0                    0                   0                   0                    0                    0                    0                    
	0.0036194958846629   -1.596347885538e-05  0.002083687442117    0.00025178731957925  -0.0035293830460018 -0.000464272010495   -2.9567609852278e-05 1.5784420372004e-05  0.003305831170755   0.0028060552572657   0.0025748603062924  0.0022409751368621   0                    0.0128154871764      0                    0                    0                   0                   0                    0                    0                    0                    
	-4.7441769270811e-05 2.2185889521403      -0.17066122302429    0.97073892438694     -0.0051076113704837 -0.24354893645559    0                    0                    0                   0                    0                   0                    0                    0                    0.985819980564       -0.13395700629049    0.002012330994811   0.00011822806986328 -0.00021212663075872 0.0013433349041009   -0.00034175790710771 2.8739764366562e-05  
	0.19161948572842     -0.07987086748747    -0.00076178603627341 -0.13385414429107    -0.013191719161667  0.18933725358962     0                    0                    0                   0                    0                   0                    0                    0                    -0.13395700629049    0.19779340728479     -0.0063003631396666 -0.0052103818965173 -0.0040424702247052  -0.00090927818223263 0.00038702794847194  -1.5598594524229e-05 
	1.4064409498276      0.0083217427850132   -0.080809781621925   0.012923866931561    -0.85929255078337   0.17503781218159     0                    0                    0                   0                    0                   0                    0                    0                    0.002012330994811    -0.0063003631396666  0.82226256370127    0.56567752083007    0.47092696296403     0.10755057249129     -0.0011654625207231  0.0032666718229312   
	0.81418322838749     0.0089835971563279   -0.48339271012094    0.06538949625278     -0.66259071803543   0.09818997985305     0                    0                    0                   0                    0                   0                    0                    0                    0.00011822806986328  -0.0052103818965173  0.56567752083007    0.61087492172442    0.44078382951074     0.085816882583193    3.964135896499e-05   0.0027661311385136   
	0.5973791386842      0.0073347449226625   -0.43257417318077    0.058197245863961    -0.54584943579741   0.071254497618757    0                    0                    0                   0                    0                   0                    0                    0                    -0.00021212663075872 -0.0040424702247052  0.47092696296403    0.44078382951074    0.38795928465522     0.077211684787587    0.00064986782596493  0.0025402813900258   
	0.14361137914758     -0.00028666571130219 0.11084222457103     -0.013623404176753   -0.11502636128156   0.017346813479246    0                    0                    0                   0                    0                   0                    0                    0                    0.0013433349041009   -0.00090927818223263 0.10755057249129    0.085816882583193   0.077211684787587    0.073563211997276    0.0018506081448418   0.0022486849917002   
	-0.0092551851276819  -0.00072206087002249 -0.004244662070142   0.000231387840698    0.0017853293478308  -0.00080824973540627 0                    0                    0                   0                    0                   0                    0                    0                    -0.00034175790710771 0.00038702794847194  -0.0011654625207231 3.964135896499e-05  0.00064986782596493  0.0018506081448418   0.00185729584        0                    
	0.0035768891503593   -1.3702874686472e-06 0.0021560646455735   -0.00026238807176842 -0.0034825776719054 0.00043320876374978  0                    0                    0                   0                    0                   0                    0                    0                    2.8739764366562e-05  -1.5598594524229e-05 0.0032666718229312  0.0027661311385136  0.0025402813900258   0.0022486849917002   0                    0.0128154871764      ];

H = [0.03907275756434    
	-0.0056982419525355 
	340.04539529083     
	0.19282874909429    
	7.0879967347971     
	0.00019142499623096 
	1.8331273504677     
	0.0022737474208148  
	-0.74237873571224   
	-4.7143140916527    
	-4.2243156074936    
	1.0943782285283     
	-0.042073896851585  
	0.02051529138061    
	-1.6755628998216    
	-0.007487272802982  
	-0.78800978931684   
	-4.7415499081621    
	-4.2439289538568    
	1.0909702575515     
	-0.041850098320494  
	0.021223590236448   ];
B = [0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	1 0 0 0 0 0 0 0 0 0 
	0 1 0 0 0 0 0 0 0 0 
	0 0 1 0 0 0 0 0 0 0 
	0 0 0 1 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 1 0 0 0 0 0 
	0 0 0 0 0 1 0 0 0 0 
	0 0 0 0 0 0 1 0 0 0 
	0 0 0 0 0 0 0 1 0 0 
	0 0 0 0 0 0 0 0 1 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 0 
	0 0 0 0 0 0 0 0 0 1 ];
J =[1 0 0 0                   -0.90280116169067    0.12183036687815    0 0 0 0                0                0                0                0 -0.00013188178292657 -0.0045544974168245 0.81238681241176   0.71379705343999   0.63900001220115   0.35414661462462    0                0.05078501011939    
	0 1 0 0.90293066763134    -3.2004142159279e-05 -0.039034482346647  0 0 0 0                0                0                0                0 0.90244083070396     0.0099662860856206  0.0042635594432243 0.0044447963530615 0.0038414908828858 -0.0011927835523563 0                5.3384259606347e-05 
	0 0 1 -0.12087297164467   0.029989765706583    0.0011789915625912  0 0 0 0                0                0                0                0 0.01412592182778     6.0088101104047e-05 0.018177065858935  -0.050233653908297 -0.031935863210392 0.29707698694901    0                0.021334019717209   
	0 0 0 -0.0052183858160968 0.99998581471566     -0.0010148184815583 0 0 0 0                0                0                0                0 -0.0052288154396001  -0.01055432836614   -0.99994428880363  -0.99994428880363  -0.99994428880363  -0.99994428880363   0                -0.99994428880363   
	0 0 0 -0.025191622298078  0.00093570686866857  1.0002017702702     0 0 0 0                0                0                0                0 -0.015171628692713   1.0001473308429     -0.010558882497068 -0.010558882497068 -0.010558882497068 -0.010558882497068  0                -0.010558882497068  
	0 0 0 0                   0                    0                   0 0 0 0.11773989557789 0.15655783068639 0.11777901462036 0.10632898629768 0 0                    0                   0                  0                  0                  0                   0                0                   
	0 0 0 0                   0                    0                   0 0 0 0                0                0                0                0 0                    0                   0                  0.11775468015101   0.15657497705392   0.117798216231      0.10636623930922 0                   
	0 0 0 0                   0                    0                   0 0 0 0                1                0                0                0 0                    0                   0                  0                  0                  0                   0                0                   
	0 0 0 0                   0                    0                   0 0 0 0                0                0                1                0 0                    0                   0                  0                  0                  0                   0                0                   
	0 0 0 0                   0                    0                   0 0 0 0                0                0                0                0 0                    0                   0                  0                  1                  0                   0                0                   
	0 0 0 0                   0                    0                   0 0 0 0                0                0                0                0 0                    0                   0                  0                  0                  0                   1                0                   ];
dJ = [0 0 0 0                  0.026757604318395    -0.028423102284449  0 0 0 0                  0                   0                    0                  0 -0.0070395418092002 0.00047867855643105 -0.018686616873133  -0.027962840797829  -0.024349246137579  0.040886420427817   0                  -0.0003454787971526 
	0 0 0 -0.026552900047067 -0.00020943997122147 -0.0021491412243456 0 0 0 0                  0                   0                    0                  0 -0.022215387306684  -0.0034008480050762 -0.037371507953061  -0.030475799605003  -0.027779466602005  -0.026625600146928  0                  -0.0031577836437501 
	0 0 0 0.030341287706134  0.14156956824731     -0.019146946195776  0 0 0 0                  0                   0                    0                  0 0.030655869567552   0.0010194407877206  -0.12938206764564   -0.11599541653464   -0.10113499399716   -0.044637473806949  0                  0.00083030391768877 
	0 0 0 0.04783096199559   0.00024752694654901  -0.0032314886394162 0 0 0 0                  0                   0                    0                  0 0.057693025259011   -0.036220440579375  0.00038267910140543 0.00038267910140543 0.00038267910140543 0.00038267910140543 0                  0.00038267910140543 
	0 0 0 -0.016517088764288 0.0030648334085665   -0.0021764735092207 0 0 0 0                  0                   0                    0                  0 -0.17070362129572   -0.0025526501404979 -0.036267756022824  -0.036267756022824  -0.036267756022824  -0.036267756022824  0                  -0.036267756022824  
	0 0 0 0                  0                    0                   0 0 0 0.0008588529087771 0.00040024188635559 -2.5890008800256e-05 0.0014348884462513 0 0                   0                   0                   0                   0                   0                   0                  0                   
	0 0 0 0                  0                    0                   0 0 0 0                  0                   0                    0                  0 0                   0                   0                   0.0010758955367235  0.00090290181138968 0.00073665950528221 0.0022924987043062 0                   
	0 0 0 0                  0                    0                   0 0 0 0                  0                   0                    0                  0 0                   0                   0                   0                   0                   0                   0                  0                   
	0 0 0 0                  0                    0                   0 0 0 0                  0                   0                    0                  0 0                   0                   0                   0                   0                   0                   0                  0                   
	0 0 0 0                  0                    0                   0 0 0 0                  0                   0                    0                  0 0                   0                   0                   0                   0                   0                   0                  0                   
	0 0 0 0                  0                    0                   0 0 0 0                  0                   0                    0                  0 0                   0                   0                   0                   0                   0                   0                  0                   ];
dq = [0.14095484761176    
	-0.0055802561356911 
	-0.027483245357871  
	0.0019460398470983  
	0.15416532754898    
	0.0097276512533426  
	-0.032019928097725  
	0.054475571960211   
	0.039768643677235   
	-0.082526110112667  
	0                   
	0.045178774744272   
	0                   
	0.16772173345089    
	0.032988540828228   
	-0.055341560393572  
	0.019026739522815   
	-0.063248470425606  
	0                   
	0.049229271709919   
	0                   
	0.16605725884438    ];

lhs = D*ddq + H;
rhs = B*u + J'*F;

dJ*dq + J*ddq